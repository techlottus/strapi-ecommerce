(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5538],{78834:function(I,g,e){"use strict";e.d(g,{Z:function(){return et}});var t=e(24346),r=e(24989),n=e(32735),E=e(67879),p=e(60216),m=e.n(p),P=e(27649),A=e(72850),L=e(49372),B=e(87933),O=e(10369),h=e(41415),b=e(92802),v=e(954),k=e(10190);const y=({onSubmit:N,schema:Fe})=>{const{formatMessage:K}=(0,E.Z)();return n.createElement(v.ZP,null,n.createElement(P.o,null,n.createElement(v.bU,null,n.createElement(b.J9,{enableReinitialize:!0,initialValues:{email:""},onSubmit:N,validationSchema:Fe,validateOnChange:!1},({values:Ne,errors:he,handleChange:He})=>n.createElement(r.l0,{noValidate:!0},n.createElement(v.sg,null,n.createElement(k.Z,null),n.createElement(A.x,{paddingTop:6,paddingBottom:7},n.createElement(L.Z,{as:"h1",variant:"alpha"},K({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),he.errorMessage&&n.createElement(L.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},K({id:he.errorMessage,defaultMessage:"An error occurred"}))),n.createElement(B.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(O.o,{error:he.email?K({id:he.email,defaultMessage:"This email is invalid."}):"",value:Ne.email,onChange:He,label:K({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:K({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),n.createElement(h.z,{type:"submit",fullWidth:!0},K({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),n.createElement(B.k,{justifyContent:"center"},n.createElement(A.x,{paddingTop:4},n.createElement(r.rU,{to:"/auth/login"},K({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};y.defaultProps={onSubmit:N=>N.preventDefault()},y.propTypes={onSubmit:m().func,schema:m().shape({type:m().string.isRequired}).isRequired};var U=y,Z=()=>{const{formatMessage:N}=(0,E.Z)();return n.createElement(v.ZP,null,n.createElement(P.o,null,n.createElement(v.bU,null,n.createElement(v.sg,null,n.createElement(k.Z,null),n.createElement(A.x,{paddingTop:6,paddingBottom:7},n.createElement(L.Z,{as:"h1",variant:"alpha"},N({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),n.createElement(L.Z,null,N({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),n.createElement(A.x,{paddingTop:4},n.createElement(L.Z,null,N({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),n.createElement(B.k,{justifyContent:"center"},n.createElement(A.x,{paddingTop:4},n.createElement(r.rU,{to:"/auth/login"},N({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},ne=()=>{const{formatMessage:N}=(0,E.Z)(),K=(0,r.aM)().get("info")||N({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return n.createElement(v.ZP,null,n.createElement(P.o,null,n.createElement(v.bU,null,n.createElement(v.sg,null,n.createElement(k.Z,null),n.createElement(A.x,{paddingTop:6,paddingBottom:7},n.createElement(L.Z,{as:"h1",variant:"alpha"},N({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),n.createElement(L.Z,null,K),n.createElement(A.x,{paddingTop:4},n.createElement(L.Z,null,N({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),n.createElement(B.k,{justifyContent:"center"},n.createElement(A.x,{paddingTop:4},n.createElement(r.rU,{to:"/auth/login"},N({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},C=e(8471),D=e(9086),T=e.n(D),J=e(53038),ie=e(84306),Q=e(15335),o=e(5803),ge=e(8284),pe=e(54894),fe=e(60492),Ue=e(72218);const Re=C.ZP.a`
  color: ${({theme:N})=>N.colors.primary600};
`,Ye=(0,C.ZP)(O.o)`
  ::-ms-reveal {
    display: none;
  }
`,qe=({authType:N,fieldsToDisable:Fe,noSignin:K,onSubmit:Ne,schema:he})=>{const He=(0,r.lm)(),{push:ae}=(0,J.k6)(),[Ee,Ie]=(0,n.useState)(!1),[ve,je]=(0,n.useState)(!1),[Ae,tt]=(0,n.useState)(0),[Ke,mt]=(0,n.useState)({}),{trackUsage:lt}=(0,r.rS)(),{formatMessage:z}=(0,E.Z)(),ut=(0,r.aM)(),{formatAPIError:gt}=(0,r.So)(),Ze=ut.get("registrationToken");(0,n.useEffect)(()=>{Ze&&(async()=>{try{const{data:{data:V}}=await ie.default.get(`${strapi.backendURL}/admin/registration-info?registrationToken=${Ze}`);V&&mt(V)}catch(V){const X=gt(V);He({type:"warning",message:X}),ae(`/auth/oops?info=${encodeURIComponent(X)}`)}})()},[Ze]);function st(le){return Object.entries(le).reduce((V,[X,me])=>{let Pe=me;return!["password","confirmPassword"].includes(X)&&typeof me=="string"&&(Pe=Pe.trim()),V[X]=Pe,V},{})}return n.createElement(v.ZP,null,n.createElement(v.bU,null,n.createElement(b.J9,{enableReinitialize:!0,initialValues:{firstname:Ke.firstname||"",lastname:Ke.lastname||"",email:Ke.email||"",password:"",confirmPassword:"",registrationToken:Ze||void 0,news:!1},onSubmit:async(le,V)=>{const X=st(le);try{await he.validate(X,{abortEarly:!1}),Ae>0&&N==="register-admin"&&lt("didSubmitWithErrorsFirstAdmin",{count:Ae.toString()}),Ne(Ze?{userInfo:T()(X,["registrationToken"]),registrationToken:Ze}:X,V)}catch(me){const Pe=(0,r.CJ)(me);tt(Ae+1),V.setErrors(Pe)}},validateOnChange:!1},({values:le,errors:V,handleChange:X})=>n.createElement(r.l0,{noValidate:!0},n.createElement(P.o,null,n.createElement(B.k,{direction:"column",alignItems:"center",gap:3},n.createElement(k.Z,null),n.createElement(L.Z,{as:"h1",variant:"alpha",textAlign:"center"},z({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"})),n.createElement(L.Z,{variant:"epsilon",textColor:"neutral600",textAlign:"center"},z({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."}))),n.createElement(B.k,{direction:"column",alignItems:"stretch",gap:6,marginTop:7},n.createElement(Q.r,{gap:4},n.createElement(o.P,{col:6},n.createElement(O.o,{name:"firstname",required:!0,value:le.firstname,error:V.firstname?z(V.firstname):void 0,onChange:X,label:z({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),n.createElement(o.P,{col:6},n.createElement(O.o,{name:"lastname",value:le.lastname,onChange:X,label:z({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),n.createElement(O.o,{name:"email",disabled:Fe.includes("email"),value:le.email,onChange:X,error:V.email?z(V.email):void 0,required:!0,label:z({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),n.createElement(Ye,{name:"password",onChange:X,value:le.password,error:V.password?z(V.password):void 0,endAction:n.createElement(Ue.Z,{onClick:me=>{me.preventDefault(),Ie(Pe=>!Pe)},label:z(Ee?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Ee?n.createElement(pe.Z,null):n.createElement(fe.Z,null)),hint:z({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:z({id:"global.password",defaultMessage:"Password"}),type:Ee?"text":"password"}),n.createElement(Ye,{name:"confirmPassword",onChange:X,value:le.confirmPassword,error:V.confirmPassword?z(V.confirmPassword):void 0,endAction:n.createElement(Ue.Z,{onClick:me=>{me.preventDefault(),je(Pe=>!Pe)},label:z(ve?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},ve?n.createElement(pe.Z,null):n.createElement(fe.Z,null)),required:!0,label:z({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:ve?"text":"password"}),n.createElement(ge.X,{onValueChange:me=>{X({target:{value:me,name:"news"}})},value:le.news,name:"news","aria-label":"news"},z({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:n.createElement(Re,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},z({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:n.createElement(Re,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},z({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),n.createElement(h.z,{fullWidth:!0,size:"L",type:"submit"},z({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!K&&n.createElement(A.x,{paddingTop:4},n.createElement(B.k,{justifyContent:"center"},n.createElement(r.rU,{label:"Auth.link.signin",to:"/auth/login"},z({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};qe.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:N=>N.preventDefault()},qe.propTypes={authType:m().string.isRequired,fieldsToDisable:m().array,noSignin:m().bool,onSubmit:m().func,schema:m().shape({validate:m().func.isRequired,type:m().string.isRequired}).isRequired};var we=qe;const rt=(0,C.ZP)(O.o)`
  ::-ms-reveal {
    display: none;
  }
`,We=({onSubmit:N,schema:Fe})=>{const[K,Ne]=(0,n.useState)(!1),[he,He]=(0,n.useState)(!1),{formatMessage:ae}=(0,E.Z)();return n.createElement(v.ZP,null,n.createElement(P.o,null,n.createElement(v.bU,null,n.createElement(b.J9,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:N,validationSchema:Fe,validateOnChange:!1},({values:Ee,errors:Ie,handleChange:ve})=>n.createElement(r.l0,{noValidate:!0},n.createElement(v.sg,null,n.createElement(k.Z,null),n.createElement(A.x,{paddingTop:6,paddingBottom:7},n.createElement(L.Z,{as:"h1",variant:"alpha"},ae({id:"global.reset-password",defaultMessage:"Reset password"}))),Ie.errorMessage&&n.createElement(L.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},ae({id:Ie.errorMessage,defaultMessage:"An error occurred"}))),n.createElement(B.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(rt,{name:"password",onChange:ve,value:Ee.password,error:Ie.password?ae({id:Ie.password,defaultMessage:"This field is required."}):void 0,endAction:n.createElement(Ue.Z,{onClick:je=>{je.preventDefault(),Ne(Ae=>!Ae)},label:ae(K?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},K?n.createElement(pe.Z,null):n.createElement(fe.Z,null)),hint:ae({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:ae({id:"global.password",defaultMessage:"Password"}),type:K?"text":"password"}),n.createElement(rt,{name:"confirmPassword",onChange:ve,value:Ee.confirmPassword,error:Ie.confirmPassword?ae({id:Ie.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:n.createElement(Ue.Z,{onClick:je=>{je.preventDefault(),He(Ae=>!Ae)},label:ae(K?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},he?n.createElement(pe.Z,null):n.createElement(fe.Z,null)),required:!0,label:ae({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:he?"text":"password"}),n.createElement(h.z,{fullwidth:!0,type:"submit"},ae({id:"global.change-password",defaultMessage:"Change password"})))))),n.createElement(B.k,{justifyContent:"center"},n.createElement(A.x,{paddingTop:4},n.createElement(r.rU,{to:"/auth/login"},ae({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};We.defaultProps={onSubmit:N=>N.preventDefault()},We.propTypes={onSubmit:m().func,schema:m().shape({type:m().string.isRequired}).isRequired};var Je=We;const Ge=(()=>window&&window.strapi&&window.strapi.isEE?e(98768).Z:e(5365).Z)();var et={"forgot-password":{Component:U,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:t.Ry().shape({email:t.Z_().email(r.I0.email).required(r.I0.required)}),inputsPrefix:""},"forgot-password-success":{Component:Z,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:Ge,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:t.Ry().shape({email:t.Z_().email(r.I0.email).required(r.I0.required),password:t.Z_().required(r.I0.required),rememberMe:t.Xg().nullable()}),inputsPrefix:""},oops:{Component:ne,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:we,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:t.Ry().shape({firstname:t.Z_().trim().required(r.I0.required),lastname:t.Z_(),password:t.Z_().min(8,r.I0.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(r.I0.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(r.I0.required),registrationToken:t.Z_().required(r.I0.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:we,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:t.Ry().shape({firstname:t.Z_().trim().required(r.I0.required),lastname:t.Z_(),password:t.Z_().min(8,r.I0.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(r.I0.required),email:t.Z_().email(r.I0.email).strict().lowercase(r.I0.lowercase).required(r.I0.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(r.I0.required)}),inputsPrefix:""},"reset-password":{Component:Je,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:t.Ry().shape({password:t.Z_().min(8,r.I0.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(r.I0.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(r.I0.required)})}}},83983:function(I,g,e){"use strict";e.d(g,{Z:function(){return P}});var t=e(86349),r=e.n(t),E={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null}],read:[{action:"admin::marketplace.read",subject:null}]},settings:{roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"transfer-tokens":{main:[{action:"admin::transfer.tokens.access",subject:null}],create:[{action:"admin::transfer.tokens.create",subject:null}],delete:[{action:"admin::transfer.tokens.delete",subject:null}],read:[{action:"admin::transfer.tokens.read",subject:null}],update:[{action:"admin::transfer.tokens.update",subject:null}],regenerate:[{action:"admin::transfer.tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};const p=(()=>window&&window.strapi&&window.strapi.isEE?e(99568).Z:e(26123).Z)();var P=r()(E,p)},39691:function(I,g,e){"use strict";e.r(g),e.d(g,{default:function(){return ds}});var t=e(32735),r=e(14911),n=e(12301),E=e(65810),p=e(86349),m=e.n(p),P=e(88423),A=e.n(P),L=e(93839),B=e.n(L),O=e(56784),h=e.n(O),b=e(74758),v=e(78246),y=()=>{const c=[];return{register(s){c.push(s)},delete(s){c.splice(c.indexOf(s),1)},runWaterfall(s,a){return c.reduce((u,f)=>f(u,a),s)},async runWaterfallAsync(s,a){let u=s;for(const f of c)u=await f(u,a);return u},runSeries(...s){return c.map(a=>a(...s))},async runSeriesAsync(...s){const a=[];for(const u of c)a.push(await u(...s));return a},runParallel(...s){return Promise.all(c.map(a=>a(...s)))}}},U=e(6680);const W=(c,s)=>{let a=U.compose;const u=[];c.forEach(R=>{u.push(R())});const f=(0,U.createStore)(Z(s,{}),{},a((0,U.applyMiddleware)(...u)));return f.asyncReducers={},f.injectReducer=(R,S)=>{f.asyncReducers[R]=S,f.replaceReducer(Z(s,f.asyncReducers))},f},Z=(c,s)=>(0,U.combineReducers)({...c,...s});var se=W,ne=e(20284),C=e(53038),D=e(84306),T=e(24989),J=e(10728),ie=e(67879),Q=e(60216),o=e.n(Q);const ge=({component:c,path:s,...a})=>{const{pathname:u,search:f}=(0,C.TH)();return t.createElement(C.AW,{path:s,render:R=>T.I8.getToken()!==null?t.createElement(c,{...a,...R}):t.createElement(C.l_,{to:{pathname:"/auth/login",search:u!=="/"&&`?redirectTo=${encodeURIComponent(`${u}${f}`)}`}})})};ge.propTypes={component:o().any.isRequired,path:o().string.isRequired};var pe=(0,t.memo)(ge),fe=e(8997),Ue=e(20011),Re=e(39935),Ye=e.n(Re),qe=e(33795),we=e.n(qe),rt=e(9086),We=e.n(rt);const Je="GUIDED_TOUR_CURRENT_STEP",Ge="GUIDED_TOUR_COMPLETED_STEPS",dt="GUIDED_TOUR_SKIPPED",et=JSON.parse,N=JSON.stringify;var K={clear(){localStorage.removeItem(Je),localStorage.removeItem(Ge)},addCompletedStep(c){const s=et(localStorage.getItem(Ge))?.slice()||[];s.includes(c)||(s.push(c),localStorage.setItem(Ge,N(s)))},addCurrentStep(c){localStorage.setItem(Je,N(c))},setSkipped(c){localStorage.setItem(dt,N(c))},get(c){return et(localStorage.getItem(c))}},Ne=e(20139),he=e(41832),ae=c=>c,Ee=e(97889),Ie=e(3040),ve=e.n(Ie);const je={formErrors:{},modifiedData:{},requestError:null},Ae=(c,s)=>(0,Ee.ZP)(c,a=>{switch(s.type){case"ON_CHANGE":{ve()(a.modifiedData,s.keys.split("."),s.value);break}case"RESET_PROPS":return je;case"SET_DATA":{a.modifiedData=s.data;break}case"SET_ERRORS":{a.formErrors=s.errors;break}case"SET_REQUEST_ERROR":{a.requestError={errorMessage:s.errorMessage,errorStatus:s.errorStatus};break}default:return a}}),tt=(()=>window&&window.strapi&&window.strapi.isEE?e(7277).Z:e(78834).Z)(),Ke=c=>{let{hasAdmin:s,setHasAdmin:a}=c;const{push:u,location:{search:f}}=(0,C.k6)(),{changeLocale:R}=(0,Ne.Z)(),{setSkipped:S}=(0,T.c1)(),{trackUsage:j}=(0,T.rS)(),{params:{authType:F}}=(0,C.$B)("/auth/:authType"),ee=(0,T.aM)(),{Component:ce,endPoint:H,fieldsToDisable:re,fieldsToOmit:oe,inputsPrefix:Me,schema:_e,...ye}=we()(tt,F,{}),[{formErrors:ke,modifiedData:Se,requestError:ct},ot]=(0,t.useReducer)(Ae,je,ae),Ve=D.default.CancelToken.source();(0,t.useEffect)(()=>()=>{Ve.cancel("Component unmounted")},[]),(0,t.useEffect)(()=>{ot({type:"RESET_PROPS"})},[F]);const Lt=te=>{let{target:{name:Te,value:de}}=te;ot({type:"ON_CHANGE",keys:Te,value:de})},ms=async(te,Te)=>{let{setSubmitting:de,setErrors:De}=Te;de(!0);const Be=We()(te,oe),Y=`/admin/${H}`;F==="login"&&await ps(te,Y,{setSubmitting:de,setErrors:De}),(F==="register"||F==="register-admin")&&await fs(te,Y,{setSubmitting:de,setErrors:De}),F==="forgot-password"&&await gs(Be,Y,{setSubmitting:de,setErrors:De}),F==="reset-password"&&await hs(Be,Y,{setSubmitting:de,setErrors:De})},gs=async(te,Te,de)=>{let{setSubmitting:De,setErrors:Be}=de;try{await(0,D.default)({method:"POST",url:`${strapi.backendURL}${Te}`,data:te,cancelToken:Ve.token}),u("/auth/forgot-password-success")}catch(Y){console.error(Y),Be({errorMessage:"notification.error"})}finally{De(!1)}},ps=async(te,Te,de)=>{let{setSubmitting:De,setErrors:Be}=de;try{const{data:{data:{token:Y,user:ue}}}=await(0,D.default)({method:"POST",url:`${strapi.backendURL}${Te}`,data:We()(te,oe),cancelToken:Ve.token});ue.preferedLanguage&&R(ue.preferedLanguage),T.I8.setToken(Y,te.rememberMe),T.I8.setUserInfo(ue,te.rememberMe),Qt()}catch(Y){if(Y.response){const ue=we()(Y,["response","data","error","message"],"Something went wrong");if(Ye()(ue).toLowerCase()==="usernotactive"){u("/auth/oops"),ot({type:"RESET_PROPS"});return}Be({errorMessage:ue})}}finally{De(!1)}},fs=async(te,Te,de)=>{let{setSubmitting:De,setErrors:Be}=de;try{j("willCreateFirstAdmin");const{data:{data:{token:Y,user:ue}}}=await(0,D.default)({method:"POST",url:`${strapi.backendURL}${Te}`,data:We()(te,oe),cancelToken:Ve.token});T.I8.setToken(Y,!1),T.I8.setUserInfo(ue,!1),De(!1),a(!0);const{roles:it}=ue;if(it&&it.find(Es=>{let{code:vs}=Es;return vs==="strapi-super-admin"})&&(K.setSkipped(!1),S(!1),j("didLaunchGuidedtour")),F==="register"&&te.userInfo.news===!0||F==="register-admin"&&te.news===!0){u({pathname:"/usecase",search:`?hasAdmin=${s}`});return}Qt()}catch(Y){if(j("didNotCreateFirstAdmin"),Y.response){const{data:ue}=Y.response,it=(0,he.Z)(ue);Be({apiErrors:it})}}},hs=async(te,Te,de)=>{let{setErrors:De,setSubmitting:Be}=de;try{const{data:{data:{token:Y,user:ue}}}=await(0,D.default)({method:"POST",url:`${strapi.backendURL}${Te}`,data:{...te,resetPasswordToken:ee.get("code")},cancelToken:Ve.token});T.I8.setToken(Y,!1),T.I8.setUserInfo(ue,!1),u("/")}catch(Y){if(Y.response){const ue=we()(Y,["response","data","message"],"Something went wrong"),it=we()(Y,["response","data","statusCode"],400);ot({type:"SET_REQUEST_ERROR",errorMessage:ue,errorStatus:it}),De({errorMessage:ue})}}finally{Be(!1)}},Qt=()=>{if(F==="login"){const te=ee.get("redirectTo"),Te=te?decodeURIComponent(te):"/";u(Te)}else u("/")};return!tt[F]||s&&F==="register-admin"||T.I8.getToken()?t.createElement(C.l_,{to:"/"}):!s&&F!=="register-admin"?t.createElement(C.l_,{to:{pathname:"/auth/register-admin",search:f}}):t.createElement(ce,(0,Ue.Z)({},ye,{authType:F,fieldsToDisable:re,formErrors:ke,inputsPrefix:Me,modifiedData:Se,onChange:Lt,onSubmit:ms,requestError:ct,schema:_e}))};Ke.defaultProps={hasAdmin:!1},Ke.propTypes={hasAdmin:o().bool,setHasAdmin:o().func.isRequired};var mt=Ke,lt=e(53951),z=e(8471),ut=e(33348),gt=e(49372),Ze=e(27649),st=e(87933),le=e(72850),V=e(68465),X=e(84967),me=e(10369),Pe=e(41415),Zt=e(7563),Ct=e(10190),Mt=e(954);const St=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],pt=(0,z.ZP)(gt.Z)`
  text-align: center;
`;var nt=()=>{const c=(0,T.lm)(),{push:s,location:a}=(0,C.k6)(),{formatMessage:u}=(0,ie.Z)(),[f,R]=(0,t.useState)(),[S,j]=(0,t.useState)(""),{firstname:F,email:ee}=T.I8.getUserInfo(),{hasAdmin:ce}=(0,ut.parse)(a?.search,{ignoreQueryPrefix:!0}),H=f==="other",re=oe=>{try{(0,D.default)({method:"POST",url:"https://analytics.strapi.io/register",data:{email:ee,username:F,firstAdmin:Boolean(!ce),persona:{role:oe?void 0:f,otherRole:oe?void 0:S}}}),c({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),s("/")}catch{}};return t.createElement(Mt.ZP,null,t.createElement(Ze.o,{labelledBy:"usecase-title"},t.createElement(Mt.bU,null,t.createElement("form",{onSubmit:()=>re(!1)},t.createElement(st.k,{direction:"column",paddingBottom:7},t.createElement(Ct.Z,null),t.createElement(le.x,{paddingTop:6,paddingBottom:1,width:(0,T.Q1)(250)},t.createElement(pt,{variant:"alpha",as:"h1",id:"usecase-title"},u({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),t.createElement(st.k,{direction:"column",alignItems:"stretch",gap:6},t.createElement(V.P,{id:"usecase","data-testid":"usecase",label:u({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:R,value:f},St.map(({intlLabel:oe,value:Me})=>t.createElement(X.W,{key:Me,value:Me},u(oe)))),H&&t.createElement(me.o,{name:"other",label:u({id:"Usecase.other",defaultMessage:"Other"}),value:S,onChange:oe=>j(oe.target.value),"data-testid":"other"}),t.createElement(Pe.z,{type:"submit",size:"L",fullWidth:!0,disabled:!f},u({id:"global.finish",defaultMessage:"Finish"}))))),t.createElement(st.k,{justifyContent:"center"},t.createElement(le.x,{paddingTop:4},t.createElement(Zt.A,{onClick:()=>re(!0)},u({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))},Dt=e(73307),ft=async()=>`web-fingerprint-${(await(await Dt.ZP.load()).get()).visitorId}`,Nt=[],Gt=[...(()=>window&&window.strapi&&window.strapi.isEE?e(68944).Z:e(56761).Z)(),...Nt],ht=e(67927);const Ft=(0,t.lazy)(()=>Promise.all([e.e(3081),e.e(801)]).then(e.bind(e,29761)));function It(){const c=(0,T.lm)(),{updateProjectSettings:s}=(0,ht.um)(),{formatMessage:a}=(0,ie.Z)(),[{isLoading:u,hasAdmin:f,uuid:R,deviceId:S},j]=(0,t.useState)({isLoading:!0,hasAdmin:!1}),F=(0,T.L7)(),{get:ee,post:ce}=(0,T.kY)(),H=(0,t.useMemo)(()=>(0,fe.WW)(Gt.map(({to:ye,Component:ke,exact:Se})=>(0,fe.ot)(ke,ye,Se))),[]),[re,oe]=(0,t.useState)(null);(0,t.useEffect)(()=>{const ye=T.I8.getToken();ye&&(async()=>{try{const{data:{data:{token:Se}}}=await ce("/admin/renew-token",{token:ye});T.I8.updateToken(Se)}catch{T.I8.clearAppStorage(),window.location.reload()}})()},[ce]),(0,t.useEffect)(()=>{(async()=>{try{const{data:{data:{hasAdmin:ke,uuid:Se,menuLogo:ct,authLogo:ot}}}=await ee("/admin/init");s({menuLogo:(0,T.CR)(ct),authLogo:(0,T.CR)(ot)});const jt=await ft();if(Se){const{data:{data:Ve}}=await ee("/admin/telemetry-properties",{validateStatus:Lt=>Lt<500});oe(Ve);try{await D.default.post("https://analytics.strapi.io/api/v2/track",{event:"didInitializeAdministration",userId:"",deviceId:jt,eventPropeties:{},userProperties:{environment:F.currentEnvironment},groupProperties:{...Ve,projectId:Se}})}catch{}}j({isLoading:!1,hasAdmin:ke,uuid:Se,deviceId:jt})}catch{c({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}})()},[c,s]);const Me=ye=>j(ke=>({...ke,hasAdmin:ye})),_e=(0,t.useMemo)(()=>({uuid:R,telemetryProperties:re,deviceId:S}),[R,re,S]);return u?t.createElement(T.dO,null):t.createElement(t.Suspense,{fallback:t.createElement(T.dO,null)},t.createElement(J.z,null,a({id:"skipToContent"})),t.createElement(T.L8,{value:_e},t.createElement(C.rs,null,H,t.createElement(C.AW,{path:"/auth/:authType",render:ye=>t.createElement(mt,{...ye,setHasAdmin:Me,hasAdmin:f}),exact:!0}),t.createElement(pe,{path:"/usecase",component:nt}),t.createElement(pe,{path:"/",component:Ft}),t.createElement(C.AW,{path:"",component:lt.default}))))}var Ot=It,bt=e(47750),Ht=e(86113),$t=e(20108),kt=e(15062),Et=e(66694);const vt={menuLogo:null,authLogo:null};var l=(c=vt,s)=>(0,Ee.ZP)(c,a=>{switch(s.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(a,s.values);break}default:return a}});const i=({children:c,authLogo:s,menuLogo:a,showReleaseNotification:u,showTutorials:f})=>{const[{menuLogo:R,authLogo:S},j]=(0,t.useReducer)(l,vt),F=(0,t.useCallback)(({menuLogo:ce,authLogo:H})=>j({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:ce||a,authLogo:H||s}}),[s,a]),ee=(0,t.useMemo)(()=>({logos:{menu:{custom:R,default:a},auth:{custom:S,default:s}},updateProjectSettings:F,showReleaseNotification:u,showTutorials:f}),[R,a,S,s,F,u,f]);return t.createElement(Et._5.Provider,{value:ee},c)};i.propTypes={authLogo:o().string.isRequired,children:o().element.isRequired,menuLogo:o().string.isRequired,showReleaseNotification:o().bool.isRequired,showTutorials:o().bool.isRequired};var M=i,w=e(78023),x=e(58732),$=e.n(x),G=e(5985);const _=({changeLocale:c,children:s,localeNames:a})=>t.createElement(G.Z.Provider,{value:{changeLocale:c,localeNames:a}},s);_.propTypes={changeLocale:o().func.isRequired,children:o().element.isRequired,localeNames:o().object.isRequired};var Le=_,Ce="strapi-admin-language",Qe=c=>{const s=window.localStorage.getItem(Ce);return{locale:c[s]?s:"en",localeNames:c}};const Xe={localeNames:{en:"English"},locale:"en"};var yt=(c=Xe,s)=>{switch(s.type){case"CHANGE_LOCALE":{const{locale:a}=s;return c.localeNames[a]?{...c,locale:a}:c}default:return c}};const at=({children:c,localeNames:s,messages:a})=>{const[{locale:u},f]=(0,t.useReducer)(yt,Xe,()=>Qe(s));(0,t.useEffect)(()=>{window.localStorage.setItem(Ce,u),document.documentElement.setAttribute("lang",u)},[u]);const R=j=>{f({type:"CHANGE_LOCALE",locale:j})},S=$()(a[u],a.en);return t.createElement(w.Z,{locale:u,defaultLocale:"en",messages:S,textComponent:"span"},t.createElement(Le,{changeLocale:R,localeNames:s},c))};at.propTypes={children:o().element.isRequired,localeNames:o().objectOf(o().string).isRequired,messages:o().object.isRequired};var Ut=at,ze=(c,s)=>{const a=Object.entries(s),u=a.findIndex(([R])=>R===c);return a.slice(0,u).every(([,R])=>Object.values(R).every(Boolean))},xe=(c,s)=>{const a=c.split("."),u=a[1],f=Object.entries(s[a[0]]),R=f.findIndex(([j])=>j===u);return f.slice(0,R).every(([,j])=>j)};const be={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0};var Xt=(c=be,s)=>(0,Ee.ZP)(c,a=>{switch(s.type){case"SET_CURRENT_STEP":{a.currentStep=s.step;break}case"SET_STEP_STATE":{const[u,f]=s.currentStep.split(".");a.guidedTourState[u][f]=s.value;break}case"SET_SKIPPED":{a.isSkipped=s.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{a.isGuidedTourVisible=s.value;break}default:return a}}),_t=c=>{const s={...c},a=K.get(Ge),u=K.get(Je),f=K.get(dt);if(a&&a.forEach(R=>{const[S,j]=R.split(".");ve()(s,["guidedTourState",S,j],!0)}),u){const[R,S]=u.split(".");ve()(s,["guidedTourState",R,S],!0),K.addCompletedStep(u),K.addCurrentStep(null)}return f!==null&&ve()(s,"isSkipped",f),s};const zt=({children:c})=>{const[{currentStep:s,guidedTourState:a,isGuidedTourVisible:u,isSkipped:f},R]=(0,t.useReducer)(Xt,be,_t),S=H=>{if(H!==null){const re=we()(a,H),oe=xe(H,a);if(re||f||!oe)return null}return K.addCurrentStep(H),R({type:"SET_CURRENT_STEP",step:H})},j=H=>{R({type:"SET_GUIDED_TOUR_VISIBILITY",value:H})},F=(H,re)=>{K.addCompletedStep(H),R({type:"SET_STEP_STATE",currentStep:H,value:re})},ee=H=>{const re=a[H];if(re){const oe=ze(H,a),Me=Object.keys(re)[0],_e=re[Me];if(oe&&!s&&!_e)return S(`${H}.${Me}`)}return null},ce=H=>{K.setSkipped(H),R({type:"SET_SKIPPED",value:H})};return t.createElement(T.Zc,{guidedTourState:a,currentStep:s,setCurrentStep:S,setGuidedTourVisibility:j,setSkipped:ce,setStepState:F,startSection:ee,isGuidedTourVisible:u,isSkipped:f},c)};zt.propTypes={children:o().element.isRequired};var qt=zt;const wt="STRAPI_THEME",es=()=>{const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=localStorage.getItem(wt);return s||localStorage.setItem(wt,c),s||c},Vt=({children:c,themes:s})=>{const[a,u]=(0,t.useState)(es()),f=(0,t.useCallback)(S=>{u(S),localStorage.setItem(wt,S)},[u]),R=(0,t.useMemo)(()=>({currentTheme:a,onChangeTheme:f,themes:s}),[a,f,s]);return t.createElement(Et.Rj.Provider,{value:R},c)};Vt.propTypes={children:o().node.isRequired,themes:o().shape({light:o().shape({colors:o().object.isRequired,shadows:o().object.isRequired,sizes:o().object.isRequired,zIndices:o().array.isRequired,spaces:o().array.isRequired,borderRadius:o().string.isRequired,mediaQueries:o().object.isRequired,fontSizes:o().array.isRequired,lineHeights:o().array.isRequired,fontWeights:o().object.isRequired}).isRequired,dark:o().shape({colors:o().object.isRequired,shadows:o().object.isRequired,sizes:o().object.isRequired,zIndices:o().array.isRequired,spaces:o().array.isRequired,borderRadius:o().string.isRequired,mediaQueries:o().object.isRequired,fontSizes:o().array.isRequired,lineHeights:o().array.isRequired,fontWeights:o().object.isRequired}).isRequired,custom:o().object}).isRequired};var ts=Vt,ss=e(86861),ns=z.vJ`
  body {
    background: ${({theme:c})=>c.colors.neutral100};
  }
`;const Yt=({children:c})=>{const{currentTheme:s,themes:a}=(0,ht.M1)();return t.createElement(ss.f,{theme:a[s]||a.light},c,t.createElement(ns,null))};Yt.propTypes={children:o().element.isRequired};var as=Yt;const os=new Ht.S({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),Jt=({authLogo:c,children:s,components:a,customFields:u,fields:f,getAdminInjectedComponents:R,getPlugin:S,localeNames:j,menu:F,menuLogo:ee,messages:ce,plugins:H,runHookParallel:re,runHookSeries:oe,runHookWaterfall:Me,settings:_e,showReleaseNotification:ye,showTutorials:ke,store:Se,themes:ct})=>t.createElement(ts,{themes:ct},t.createElement(as,null,t.createElement($t.QueryClientProvider,{client:os},t.createElement(kt.zt,{store:Se},t.createElement(Et.ux.Provider,{value:{getAdminInjectedComponents:R}},t.createElement(M,{authLogo:c,menuLogo:ee,showReleaseNotification:ye,showTutorials:ke},t.createElement(T._Y,{getPlugin:S,menu:F,plugins:H,runHookParallel:re,runHookWaterfall:Me,runHookSeries:oe,settings:_e},t.createElement(T.rt,{components:a,fields:f},t.createElement(T.MG,{customFields:u},t.createElement(Ut,{messages:ce,localeNames:j},t.createElement(T.m$,null,t.createElement(T.w7,null,t.createElement(qt,null,t.createElement(T.N$,null,s))))))))))))));Jt.propTypes={authLogo:o().oneOfType([o().string,o().any]).isRequired,children:o().element.isRequired,components:o().object.isRequired,customFields:o().object.isRequired,fields:o().object.isRequired,getAdminInjectedComponents:o().func.isRequired,getPlugin:o().func.isRequired,localeNames:o().objectOf(o().string).isRequired,menu:o().arrayOf(o().shape({to:o().string.isRequired,icon:o().func.isRequired,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}).isRequired,permissions:o().array,Component:o().func})).isRequired,menuLogo:o().oneOfType([o().string,o().any]).isRequired,messages:o().object.isRequired,plugins:o().object.isRequired,runHookParallel:o().func.isRequired,runHookWaterfall:o().func.isRequired,runHookSeries:o().func.isRequired,settings:o().object.isRequired,showReleaseNotification:o().bool.isRequired,showTutorials:o().bool.isRequired,store:o().object.isRequired,themes:o().shape({light:o().shape({colors:o().object.isRequired,shadows:o().object.isRequired,sizes:o().object.isRequired,zIndices:o().array.isRequired,spaces:o().array.isRequired,borderRadius:o().string.isRequired,mediaQueries:o().object.isRequired,fontSizes:o().array.isRequired,lineHeights:o().array.isRequired,fontWeights:o().object.isRequired}).isRequired,dark:o().shape({colors:o().object.isRequired,shadows:o().object.isRequired,sizes:o().object.isRequired,zIndices:o().array.isRequired,spaces:o().array.isRequired,borderRadius:o().string.isRequired,mediaQueries:o().object.isRequired,fontSizes:o().array.isRequired,lineHeights:o().array.isRequired,fontWeights:o().object.isRequired}).isRequired,custom:o().object}).isRequired};var is=Jt,rs={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",eu:"Euskara",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"},At=e(46339),ls={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}},us="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=";class cs{constructor({adminConfig:s,appPlugins:a,library:u,middlewares:f,reducers:R}){this.customConfigurations=s.config,this.customBootstrapConfiguration=s.bootstrap,this.configurations={authLogo:bt,head:{favicon:us},locales:["en"],menuLogo:bt,notifications:{releases:!0},themes:{light:n.W,dark:E.$},translations:{},tutorials:!0},this.appPlugins=a||{},this.library=u,this.middlewares=f,this.plugins={},this.reducers=R,this.translations={},this.hooksDict={},this.admin={injectionZones:ls},this.customFields=ne.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=s=>{Array.isArray(s)?s.map(a=>this.library.components.add(a)):this.library.components.add(s)};addCorePluginMenuLink=s=>{const a=JSON.stringify(s);h()(s.to,`link.to should be defined for ${a}`),h()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),h()(["/plugins/content-type-builder","/plugins/upload"].includes(s.to),"This method is not available for your plugin"),h()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${a}`),this.menu.push(s)};addFields=s=>{Array.isArray(s)?s.map(a=>this.library.fields.add(a)):this.library.fields.add(s)};addMenuLink=s=>{const a=JSON.stringify(s);h()(s.to,`link.to should be defined for ${a}`),h()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),h()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${a}`),h()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),h()(s.icon&&typeof s.icon=="function","link.Icon should be a valid React Component"),this.menu.push(s)};addMiddlewares=s=>{s.forEach(a=>{this.middlewares.add(a)})};addReducers=s=>{Object.keys(s).forEach(a=>{this.reducers.add(a,s[a])})};addSettingsLink=(s,a)=>{h()(this.settings[s],"The section does not exist");const u=JSON.stringify(a);h()(a.id,`link.id should be defined for ${u}`),h()(a.intlLabel?.id&&a.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${u}`),h()(a.to,`link.to should be defined for ${u}`),h()(a.Component&&typeof a.Component=="function","link.Component should be a valid React Component"),this.settings[s].links.push(a)};addSettingsLinks=(s,a)=>{h()(this.settings[s],"The section does not exist"),h()(Array.isArray(a),"TypeError expected links to be an array"),a.forEach(u=>{this.addSettingsLink(s,u)})};async bootstrap(){Object.keys(this.appPlugins).forEach(s=>{const a=this.appPlugins[s].bootstrap;a&&a({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),B()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(At.No),this.createHook(At.LK),this.createHook(At.dV),this.createHook(At.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(s=>s!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const s=this.customConfigurations.theme.dark,a=this.customConfigurations.theme.light;!s&&!a&&(console.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),m()(this.configurations.themes.light,this.customConfigurations.theme)),a&&m()(this.configurations.themes.light,a),s&&m()(this.configurations.themes.dark,s)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=s=>{this.hooksDict[s]=y()};createSettingSection=(s,a)=>{h()(s.id,"section.id should be defined"),h()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,"section.intlLabel should be defined"),h()(Array.isArray(a),"TypeError expected links to be an array"),h()(this.settings[s.id]===void 0,"A similar section already exists"),this.settings[s.id]={...s,links:[]},a.forEach(u=>{this.addSettingsLink(s.id,u)})};createStore=()=>se(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(s,a,u)=>{try{return this.admin.injectionZones[s][a][u]||[]}catch(f){return console.error("Cannot get injected component",f),f}};getPlugin=s=>this.plugins[s];async initialize(){Object.keys(this.appPlugins).forEach(s=>{this.appPlugins[s].register(this)})}injectContentManagerComponent=(s,a,u)=>{h()(this.admin.injectionZones.contentManager[s]?.[a],`The ${s} ${a} zone is not defined in the content manager`),h()(u,"A Component must be provided"),this.admin.injectionZones.contentManager[s][a].push(u)};injectAdminComponent=(s,a,u)=>{h()(this.admin.injectionZones.admin[s]?.[a],`The ${s} ${a} zone is not defined in the admin`),h()(u,"A Component must be provided"),this.admin.injectionZones.admin[s][a].push(u)};async loadAdminTrads(){const s=this.configurations.locales.map(f=>e(48224)(`./${f}.json`).then(({default:R})=>({data:R,locale:f})).catch(()=>({data:null,locale:f})));return(await Promise.all(s)).reduce((f,R)=>(R.data&&(f[R.locale]=R.data),f),{})}async loadTrads(){const s=await this.loadAdminTrads(),a=Object.keys(this.appPlugins).map(S=>{const j=this.appPlugins[S].registerTrads;return j?j({locales:this.configurations.locales}):null}).filter(S=>S),f=(await Promise.all(a)).reduce((S,j)=>{const F=j.reduce((ee,ce)=>(ee[ce.locale]=ce.data,ee),{});return Object.keys(F).forEach(ee=>{S[ee]={...S[ee],...F[ee]}}),S},{}),R=this.configurations.locales.reduce((S,j)=>(S[j]={...s[j],...f[j]||{},...this.customConfigurations?.translations?.[j]},S),{});return this.configurations.translations=R,Promise.resolve()}registerHook=(s,a)=>{h()(this.hooksDict[s],`The hook ${s} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[s].register(a)};registerPlugin=s=>{const a=(0,ne.Sy)(s);this.plugins[a.pluginId]=a};runHookSeries=(s,a=!1)=>a?this.hooksDict[s].runSeriesAsync():this.hooksDict[s].runSeries();runHookWaterfall=(s,a,u=!1,f)=>u?this.hooksDict[s].runWaterfallAsync(a,f):this.hooksDict[s].runWaterfall(a,f);runHookParallel=s=>this.hooksDict[s].runParallel();render(){const s=this.createStore(),a=A()(rs,this.configurations.locales||[]),{components:{components:u},fields:{fields:f}}=this.library;return t.createElement(is,{authLogo:this.configurations.authLogo,components:u,fields:f,customFields:this.customFields,localeNames:a,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(R,S,j=!1)=>this.runHookWaterfall(R,S,j,s),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:s},t.createElement(t.Fragment,null,t.createElement(b.q,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(Ce)||"en"}}),t.createElement(r.VK,{basename:v.Z},t.createElement(Ot,{store:s}))))}}var ds=({adminConfig:c={},appPlugins:s,library:a,middlewares:u,reducers:f})=>new cs({adminConfig:c,appPlugins:s,library:a,middlewares:u,reducers:f})},5985:function(I,g,e){"use strict";var t=e(32735);const r=(0,t.createContext)();g.Z=r},20139:function(I,g,e){"use strict";var t=e(32735),r=e(5985);const n=()=>{const{changeLocale:E,localeNames:p,messages:m}=(0,t.useContext)(r.Z);return{changeLocale:E,localeNames:p,messages:m}};g.Z=n},10190:function(I,g,e){"use strict";var t=e(32735),r=e(8471),n=e(67927);const E=r.ZP.img`
  height: ${72/16}rem;
`,p=()=>{const{logos:{auth:m}}=(0,n.um)();return t.createElement(E,{src:m?.custom??m.default,"aria-hidden":!0,alt:""})};g.Z=p},66694:function(I,g,e){"use strict";e.d(g,{ux:function(){return n},_5:function(){return p},$l:function(){return P},Rj:function(){return L}});var t=e(32735),n=(0,t.createContext)({}),p=(0,t.createContext)({}),P=(0,t.createContext)({}),L=(0,t.createContext)({})},78246:function(I,g){"use strict";const e="/admin/".replace(window.location.origin,"");g.Z=e},46339:function(I,g,e){"use strict";e.d(g,{Eo:function(){return n},LK:function(){return r},No:function(){return t},dV:function(){return E}});const t="Admin/CM/pages/ListView/inject-column-in-table",r="Admin/CM/pages/App/mutate-collection-types-links",n="Admin/CM/pages/EditView/mutate-edit-view-layout",E="Admin/CM/pages/App/mutate-single-types-links"},67927:function(I,g,e){"use strict";e.d(g,{um:function(){return E},U_:function(){return y},Dq:function(){return ne},H9:function(){return We},bP:function(){return O},$_:function(){return It},rW:function(){return vt},bF:function(){return he},G4:function(){return ht},Te:function(){return St},M1:function(){return kt}});var t=e(32735),r=e(66694),E=()=>(0,t.useContext)(r._5),p=e(24989),m=e(97889);const P={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]};var L=(d,l)=>(0,m.ZP)(d,i=>{switch(l.type){case"GET_MODELS":{i.collectionTypes=P.collectionTypes,i.singleTypes=P.singleTypes,i.components=P.components,i.isLoading=!0;break}case"GET_MODELS_ERROR":{i.collectionTypes=P.collectionTypes,i.singleTypes=P.singleTypes,i.components=P.components,i.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const M=w=>l.contentTypes.filter(x=>x.isDisplayed&&x.kind===w);i.isLoading=!1,i.collectionTypes=M("collectionType"),i.singleTypes=M("singleType"),i.components=l.components;break}default:return i}}),O=()=>{const d=(0,p.lm)(),[l,i]=(0,t.useReducer)(L,P),{get:M}=(0,p.kY)(),w=(0,t.useCallback)(async()=>{i({type:"GET_MODELS"});try{const[{data:{data:x}},{data:{data:$}}]=await Promise.all(["components","content-types"].map(G=>M(`/content-manager/${G}`)));i({type:"GET_MODELS_SUCCEDED",contentTypes:$,components:x})}catch{i({type:"GET_MODELS_ERROR"}),d({type:"warning",message:{id:"notification.error"}})}},[d,M]);return(0,t.useEffect)(()=>{w()},[w]),{...l,getData:w}};const h={data:{},error:null,isLoading:!0};var v=(d,l)=>(0,m.ZP)(d,i=>{switch(l.type){case"GET_DATA":{i.isLoading=!0,i.data={},i.error=null;break}case"GET_DATA_SUCCEEDED":{i.data=l.data,i.isLoading=!1,i.error=null;break}case"GET_DATA_ERROR":{i.isLoading=!1,i.error=l.error;break}default:return i}}),y=d=>{const[{data:l,error:i,isLoading:M},w]=(0,t.useReducer)(v,h),{get:x}=(0,p.kY)();return(0,t.useEffect)(()=>{(async()=>{try{w({type:"GET_DATA"});const{data:{data:G}}=await x("/admin/permissions",{params:{role:d}});w({type:"GET_DATA_SUCCEEDED",data:G})}catch{}})()},[d,x]),{data:l,error:i,isLoading:M}};const U={role:{},permissions:{},isLoading:!0};var Z=(d,l)=>(0,m.ZP)(d,i=>{switch(l.type){case"GET_DATA_SUCCEEDED":{i.role=l.role,i.permissions=l.permissions,i.isLoading=!1;break}case"GET_DATA_ERROR":{i.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{i.role.name=l.name,i.role.description=l.description;break}default:return i}}),ne=d=>{const l=(0,p.lm)(),[i,M]=(0,t.useReducer)(Z,U),{get:w}=(0,p.kY)();(0,t.useEffect)(()=>{d?(async G=>{try{const[{data:{data:_}},{data:{data:Le}}]=await Promise.all([`roles/${G}`,`roles/${G}/permissions`].map(q=>w(`/admin/${q}`)));M({type:"GET_DATA_SUCCEEDED",role:_,permissions:Le})}catch(_){console.error(_),M({type:"GET_DATA_ERROR"}),l({type:"warning",message:{id:"notification.error"}})}})(d):M({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[w,d,l]);const x=(0,t.useCallback)($=>{M({type:"ON_SUBMIT_SUCCEEDED",...$})},[]);return{...i,onSubmitSucceeded:x}},D=(d,l)=>l.map(({permissions:i})=>(0,p.qX)(d,i)),J=async(d,l)=>{const i=D(d,l),M=await Promise.all(i);return l.filter((x,$)=>M[$])},ie=e(99381),Q=e.n(ie),ge=async(d,l,i)=>{const M=D(d,l),w=await Promise.all(M),x=l.filter((_,Le)=>w[Le]),$=x.findIndex(_=>_.to==="/settings");if($===-1)return[];const G=Q()(x);return G[$].notificationsCount=i?1:0,G},pe=e(2287),fe=e(36919),Ue=e(45112),Re=e(83983);const Ye={generalSectionLinks:[{icon:pe.Z,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:Re.Z.marketplace.main},{icon:fe.Z,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:Re.Z.marketplace.main},{icon:Ue.Z,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0};var we=(d=Ye,l)=>(0,m.ZP)(d,i=>{switch(l.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:M,authorizedPluginSectionLinks:w}=l.data;i.generalSectionLinks=M,i.pluginsSectionLinks=w;break}case"UNSET_IS_LOADING":{i.isLoading=!1;break}default:return i}}),We=()=>{const[d,l]=(0,t.useReducer)(we,Ye),{allPermissions:i}=(0,p.vn)(),{shouldUpdateStrapi:M}=(0,p.L7)(),{menu:w}=(0,p.j1)(),x=(0,t.useRef)(d.generalSectionLinks),$=(0,t.useRef)(M),G=async(Le=i)=>{const Ce=await J(Le,w),$e=await ge(Le,x.current,$.current);l({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:$e,authorizedPluginSectionLinks:Ce}}),l({type:"UNSET_IS_LOADING"})},_=(0,t.useRef)(G);return(0,t.useEffect)(()=>{_.current(i)},[i,l]),d},Je=e(33795),Ge=e.n(Je),et=(d,l)=>({...d,isLoading:l});const N={roles:[],isLoading:!0};var K=(d,l)=>(0,m.ZP)(d,i=>{switch(l.type){case"GET_DATA":{i.isLoading=!0,i.roles=[];break}case"GET_DATA_SUCCEEDED":{i.roles=l.data,i.isLoading=!1;break}case"GET_DATA_ERROR":{i.isLoading=!1;break}default:return i}}),he=(d=!0)=>{const l=(0,p.lm)(),[{roles:i,isLoading:M},w]=(0,t.useReducer)(K,N,()=>et(N,d));(0,t.useEffect)(()=>{d&&x()},[d]);const x=(0,t.useCallback)(async()=>{const $=(0,p.tg)();try{w({type:"GET_DATA"});const{data:{data:G}}=await $.get("/admin/roles");w({type:"GET_DATA_SUCCEEDED",data:G})}catch(G){const _=Ge()(G,["response","payload","message"],"An error occured");w({type:"GET_DATA_ERROR"}),_!=="Forbidden"&&l({type:"warning",message:_})}},[l]);return{roles:i,isLoading:M,getData:x}},He=e(3040),ae=e.n(He);const Ee={menu:[],isLoading:!0};var ve=(d,l)=>(0,m.ZP)(d,i=>{switch(l.type){case"CHECK_PERMISSIONS_SUCCEEDED":{l.data.forEach(M=>{M.hasPermission&&ae()(i,["menu",...M.path.split("."),"isDisplayed"],M.hasPermission)}),i.menu.forEach((M,w)=>{i.menu[w].links=M.links.filter(x=>x.isDisplayed===!0)}),i.isLoading=!1;break}default:return i}}),je=e(9086),Ae=e.n(je),tt=e(98978),Ke=e.n(tt),lt=d=>Ke()(d,l=>l.id),ut=d=>d.map(l=>{const i=l.links.map(M=>({...M,isDisplayed:!1}));return{...l,links:i}}),Ze=[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:Re.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:Re.Z.settings.users.main}],le=[...(()=>window&&window.strapi&&window.strapi.isEE?e(66334).Z:e(47950).Z)(),...Ze],X=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:Re.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:Re.Z.settings["api-tokens"].main},{intlLabel:{id:"Settings.transferTokens.title",defaultMessage:"Transfer Tokens"},to:"/settings/transfer-tokens?sort=name:ASC",id:"transfer-tokens",isDisplayed:!1,permissions:Re.Z.settings["transfer-tokens"].main}];const me=(()=>window&&window.strapi&&window.strapi.isEE?e(11545).Z:e(73086).Z)();var Pe=[...X,...me],Ct=(d,{settings:l,shouldUpdateStrapi:i})=>{const M=l.global.links,w=lt([...M,...Pe]).map(G=>({...G,hasNotification:G.id==="000-application-infos"&&i})),x=Object.values(Ae()(l,"global")),$=[{...l.global,links:w},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:le},...x];return{...d,menu:ut($)}},St=(d=!1)=>{const{allPermissions:l}=(0,p.vn)(),{shouldUpdateStrapi:i}=(0,p.L7)(),{settings:M}=(0,p.j1)(),[{isLoading:w,menu:x},$]=(0,t.useReducer)(ve,Ee,()=>Ct(Ee,{settings:M,shouldUpdateStrapi:i}));return(0,t.useEffect)(()=>{d||(async()=>{const _=async($e,Qe)=>({hasPermission:await(0,p.qX)(l,$e),path:Qe}),q=($e=>$e.reduce((Qe,Xe,Pt)=>{const yt=at=>at.map((Ut,Tt)=>_(at[Tt].permissions,`${Pt}.links.${Tt}`));return[...Qe,...yt(Xe.links)]},[]))(x),Ce=await Promise.all(q);$({type:"CHECK_PERMISSIONS_SUCCEEDED",data:Ce})})()},[l,d]),{isLoading:w,menu:x}},pt=e(8997),xt=e(88423),nt=e.n(xt),Dt=e(56236),Bt=e.n(Dt);const ft={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},Wt=(d,l)=>(0,m.ZP)(d,i=>{switch(l.type){case"GET_DATA_SUCCEEDED":{i.isLoading=!1,i.showHeaderLoader=!1,i.initialData=nt()(l.data,d.fieldsToPick),i.modifiedData=nt()(l.data,d.fieldsToPick);break}case"ON_CANCEL":{i.modifiedData=d.initialData,i.formErrors={};break}case"ON_CHANGE":{l.inputType==="password"&&!l.value?Bt()(i.modifiedData,l.keys.split(".")):l.keys.includes("username")&&!l.value?ae()(i.modifiedData,l.keys.split("."),null):ae()(i.modifiedData,l.keys.split("."),l.value);break}case"ON_SUBMIT":{i.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{i.initialData=nt()(l.data,d.fieldsToPick),i.modifiedData=nt()(l.data,d.fieldsToPick),i.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{i.formErrors=l.errors,i.showHeaderButtonLoader=!1;break}default:return i}});var Kt=(d,l)=>({...d,fieldsToPick:l}),ht=(d,l,i,M)=>{const[{formErrors:w,initialData:x,isLoading:$,modifiedData:G,showHeaderButtonLoader:_,showHeaderLoader:Le},q]=(0,t.useReducer)(Wt,ft,()=>Kt(ft,M)),Ce=(0,p.lm)(),{lockApp:$e,unlockApp:Qe}=(0,p.o1)(),{get:Xe,put:Pt}=(0,p.kY)();return(0,t.useEffect)(()=>{d&&(async()=>{try{const{data:{data:Oe}}=await Xe(d);q({type:"GET_DATA_SUCCEEDED",data:Oe,fieldsToPick:M})}catch(Oe){console.error(Oe.response),Ce({type:"warning",message:{id:"notification.error"}})}})()},[d]),[{formErrors:w,initialData:x,isLoading:$,modifiedData:G,showHeaderButtonLoader:_,showHeaderLoader:Le},q,{handleCancel:()=>{q({type:"ON_CANCEL"})},handleChange:({target:{name:ze,value:Oe,type:xe}})=>{q({type:"ON_CHANGE",inputType:xe,keys:ze,value:Oe})},handleSubmit:async ze=>{ze.preventDefault();const Oe=await(0,pt.R6)(G,l);if(q({type:"SET_ERRORS",errors:Oe||{}}),!Oe)try{$e(),q({type:"ON_SUBMIT"});const xe=Ae()(G,["confirmPassword","registrationToken"]);xe.roles&&(xe.roles=xe.roles.map(Rt=>Rt.id));const{data:{data:be}}=await Pt(d,xe);i(be),q({type:"ON_SUBMIT_SUCCEEDED",data:be}),Ce({type:"success",message:{id:"notification.success.saved"}})}catch(xe){const be=xe?.response?.payload??{data:{}};be?.data&&typeof be.data=="string"?Ce({type:"warning",message:be.data}):Ce({type:"warning",message:be.message});const Rt=(0,pt.Iz)(be);q({type:"SET_ERRORS",errors:Rt})}finally{Qe()}},setField:(ze,Oe)=>{q({type:"ON_CHANGE",keys:ze,value:Oe})}}]},It=()=>(0,t.useContext)(r.$l);const Ot=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),bt=()=>{const{latestStrapiReleaseTag:d,shouldUpdateStrapi:l}=useAppInfo(),i=useNotification();return useEffect(()=>{l&&Ot&&i({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${d}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[d,l,i]),null};var Ht=null,kt=()=>(0,t.useContext)(r.Rj),vt=(d,l,i,M)=>{const[w,x]=(0,t.useState)(!1),$=(0,p.lm)(),{post:G}=(0,p.kY)(),{formatAPIError:_}=(0,p.So)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:q}}}=await G(`${d}${l}/regenerate`);x(!1),i(q)}catch(q){x(!1),M?M(q):$({type:"warning",message:_(q)})}},isLoadingConfirmation:w}}},47950:function(I,g){"use strict";g.Z=[]},73086:function(I,g){"use strict";g.Z=[]},954:function(I,g,e){"use strict";e.d(g,{sg:function(){return b},bU:function(){return v},ZP:function(){return y}});var t=e(32735),r=e(8471),n=e(60216),E=e.n(n),p=e(72850),m=e(87933),P=e(67879),A=e(34853),L=e(20139),O=()=>{const{changeLocale:U,localeNames:W}=(0,L.Z)(),{locale:Z}=(0,P.Z)();return t.createElement(A.O,{label:W[Z]},Object.keys(W).map(se=>t.createElement(A.s,{onClick:()=>U(se),key:se},W[se])))};const h=(0,r.ZP)(p.x)`
  margin: 0 auto;
  width: 552px;
`,b=(0,r.ZP)(m.k)`
  flex-direction: column;
`,v=({children:U})=>t.createElement(h,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},U);v.propTypes={children:E().node.isRequired};const k=({children:U})=>t.createElement("div",null,t.createElement(m.k,{as:"header",justifyContent:"flex-end"},t.createElement(p.x,{paddingTop:6,paddingRight:8},t.createElement(O,null))),t.createElement(p.x,{paddingTop:2,paddingBottom:11},U));k.propTypes={children:E().node.isRequired};var y=k},56761:function(I,g){"use strict";const e=[];g.Z=e},72218:function(I,g,e){"use strict";var t=e(8471),r=e(63642);const n=(0,t.ZP)(r.E)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:E})=>E.colors.neutral600};
    }
  }
`;g.Z=n},1115:function(I,g,e){"use strict";var t=e(32735),r=e(24989),n=e(54894),E=e(60492),p=e(10369),m=e(27649),P=e(72850),A=e(49372),L=e(87933),B=e(8284),O=e(41415),h=e(60216),b=e.n(h),v=e(67879),k=e(8471),y=e(92802),U=e(954),W=e(10190),Z=e(72218);const se=(0,k.ZP)(p.o)`
  ::-ms-reveal {
    display: none;
  }
`,ne=({onSubmit:C,schema:D,children:T})=>{const[J,ie]=(0,t.useState)(!1),{formatMessage:Q}=(0,v.Z)();return t.createElement(m.o,null,t.createElement(U.bU,null,t.createElement(y.J9,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:C,validationSchema:D,validateOnChange:!1},({values:o,errors:ge,handleChange:pe})=>t.createElement(r.l0,{noValidate:!0},t.createElement(U.sg,null,t.createElement(W.Z,null),t.createElement(P.x,{paddingTop:6,paddingBottom:1},t.createElement(A.Z,{variant:"alpha",as:"h1"},Q({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),t.createElement(P.x,{paddingBottom:7},t.createElement(A.Z,{variant:"epsilon",textColor:"neutral600"},Q({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),ge.errorMessage&&t.createElement(A.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},ge.errorMessage)),t.createElement(L.k,{direction:"column",alignItems:"stretch",gap:6},t.createElement(p.o,{error:ge.email?Q({id:ge.email,defaultMessage:"This value is required."}):"",value:o.email,onChange:pe,label:Q({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:Q({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),t.createElement(se,{error:ge.password?Q({id:ge.password,defaultMessage:"This value is required."}):"",onChange:pe,value:o.password,label:Q({id:"global.password",defaultMessage:"Password"}),name:"password",type:J?"text":"password",endAction:t.createElement(Z.Z,{onClick:fe=>{fe.stopPropagation(),ie(Ue=>!Ue)},label:Q(J?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},J?t.createElement(n.Z,null):t.createElement(E.Z,null)),required:!0}),t.createElement(B.X,{onValueChange:fe=>{pe({target:{value:fe,name:"rememberMe"}})},value:o.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},Q({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),t.createElement(O.z,{fullWidth:!0,type:"submit"},Q({id:"Auth.form.button.login",defaultMessage:"Login"}))))),T),t.createElement(L.k,{justifyContent:"center"},t.createElement(P.x,{paddingTop:4},t.createElement(r.rU,{to:"/auth/forgot-password"},Q({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};ne.defaultProps={children:null,onSubmit(){}},ne.propTypes={children:b().node,onSubmit:b().func,schema:b().shape({type:b().string.isRequired}).isRequired},g.Z=ne},5365:function(I,g,e){"use strict";var t=e(32735),r=e(60216),n=e.n(r),E=e(1115),p=e(954);const m=P=>t.createElement(p.ZP,null,t.createElement(E.Z,{...P}));m.defaultProps={onSubmit:P=>P.preventDefault()},m.propTypes={onSubmit:n().func},g.Z=m},53951:function(I,g,e){"use strict";e.r(g);var t=e(32735),r=e(24989),n=e(27649),E=e(82055),p=e(17e3),m=e(9695),P=e(8482),A=e(25386),L=e(67879);const B=()=>{const{formatMessage:O}=(0,L.Z)();return(0,r.go)(),t.createElement(n.o,{labelledBy:"title"},t.createElement(E.T,{id:"title",title:O({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),t.createElement(p.D,null,t.createElement(m.x,{action:t.createElement(r.Qj,{variant:"secondary",endIcon:t.createElement(P.Z,null),to:"/"},O({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:O({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:t.createElement(A.Z,{width:"10rem"}),shadow:"tableShadow"})))};g.default=B},26123:function(I,g){"use strict";g.Z={}},41832:function(I,g){"use strict";const e=({data:t})=>{try{return Object.keys(t).reduce((r,n)=>{const E=t[n][0];return r[n]={id:E,defaultMessage:E},r},{})}catch{return{}}};g.Z=e},8997:function(I,g,e){"use strict";e.d(g,{R6:function(){return n},ot:function(){return B},Iz:function(){return O.Z},Pp:function(){return Z},IF:function(){return W},Qy:function(){return ne},WW:function(){return b}});var t=e(24989),n=async(C,D)=>{let T=null;try{await D.validate(C,{abortEarly:!1})}catch(J){T=(0,t.CJ)(J)}return T},E=e(32735),p=e(60216),m=e.n(p),P=e(53038);const A=({loadComponent:C})=>{const[D,T]=(0,E.useState)(null);return(0,E.useEffect)(()=>{(async()=>{try{const ie=await C();T(()=>ie.default)}catch(ie){console.log(ie)}})()},[C]),D?E.createElement(D,null):E.createElement(t.dO,null)},L=(C,D,T)=>E.createElement(P.AW,{render:()=>E.createElement(A,{loadComponent:C}),key:D,path:D,exact:T||!1});A.propTypes={loadComponent:m().func.isRequired};var B=L,O=e(41832),b=C=>C.filter((D,T,J)=>J.findIndex(ie=>ie.key===D.key)===T),v=e(98978);const k=C=>sortBy(C,D=>D.name);var y=null,W=C=>`/admin/${C}`,Z=(C,D="")=>[C,D].filter(T=>T).join(" ");const se={bufferToHex(C){return[...new Uint8Array(C)].map(D=>D.toString(16).padStart(2,"0")).join("")},async digestMessage(C){const D=new TextEncoder().encode(C),T=await crypto.subtle.digest("SHA-256",D);return this.bufferToHex(T)}};async function ne(C){if(!C)return null;try{return await se.digestMessage(C.email)}catch{return null}}},58414:function(I,g,e){"use strict";e.d(g,{pl:function(){return L},q5:function(){return O.Z}});var t=e(32735),r=e(24989),n=e(8997),E=e(97889);const p={data:[],isLoading:!0};var P=(h,b)=>(0,E.ZP)(h,v=>{switch(b.type){case"GET_DATA_SUCCEEDED":{v.data=b.data,v.isLoading=!1;break}case"GET_DATA_ERROR":{v.isLoading=!1;break}default:return v}}),L=({ssoEnabled:h})=>{const[b,v]=(0,t.useReducer)(P,p),k=(0,r.lm)(),{get:y}=(0,r.kY)();return(0,t.useEffect)(()=>{(async()=>{try{if(!h){v({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:W}=await y((0,n.IF)("providers"));v({type:"GET_DATA_SUCCEEDED",data:W})}catch(W){console.error(W),v({type:"GET_DATA_ERROR"}),k({type:"warning",message:{id:"notification.error"}})}})()},[y,h,k]),b},B=e(21306),O=e(2690)},21306:function(I,g,e){"use strict";var t=e(32735),r=e(67879),n=e(53038),E=e(24989),p=e(36866),m=e.n(p),P=e(2690);const A="strapi-notification-seat-limit",L="https://cloud.strapi.io/profile/billing",B="https://strapi.io/billing/request-seats",O=()=>{const{formatMessage:h}=(0,r.Z)();let{license:b}=(0,P.Z)();const v=(0,E.lm)(),{pathname:k}=(0,n.TH)();(0,t.useEffect)(()=>{if(!b?.data)return;const{enforcementUserCount:y,permittedSeats:U,licenseLimitStatus:W,isHostedOnStrapiCloud:Z}=b?.data??{},se=!m()(U)&&!window.sessionStorage.getItem(`${A}-${k}`)&&(W==="AT_LIMIT"||W==="OVER_LIMIT");let ne;W==="OVER_LIMIT"?ne="warning":W==="AT_LIMIT"&&(ne="softWarning"),se&&v({type:ne,message:h({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:W}),title:h({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:W,enforcementUserCount:y,permittedSeats:U}),link:{url:Z?L:B,label:h({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:Z})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${A}-${k}`,!0)}})},[v,b.data,k,h])};g.Z=O},2690:function(I,g,e){"use strict";var t=e(24989),r=e(20108),n=e(83983);const E=()=>{const p=(0,t.ss)(n.Z.settings.users),{isLoading:m,allowedActions:{canRead:P,canCreate:A,canUpdate:L,canDelete:B}}=p,O=P&&A&&L&&B,{get:h}=(0,t.kY)(),b=async()=>{const{data:{data:k}}=await h("/admin/license-limit-information");return k};return{license:(0,r.useQuery)(["ee","license-limit-info"],b,{enabled:!m&&O})}};g.Z=E},66334:function(I,g,e){"use strict";var t=e(83983);const r=[];window.strapi.features.isEnabled(window.strapi.features.AUDIT_LOGS)&&r.push({intlLabel:{id:"global.auditLogs",defaultMessage:"Audit Logs"},to:"/settings/audit-logs?pageSize=50&page=1&sort=date:DESC",id:"auditLogs",isDisplayed:!1,permissions:t.Z.settings.auditLogs.main});const n=r;g.Z=n},11545:function(I,g,e){"use strict";var t=e(83983);const r=[];window.strapi.features.isEnabled(window.strapi.features.SSO)&&r.push({intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:t.Z.settings.sso.main}),window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&r.push({intlLabel:{id:"Settings.review-workflows.page.title",defaultMessage:"Review Workflows"},to:"/settings/review-workflows",id:"review-workflows",isDisplayed:!1,permissions:t.Z.settings["review-workflows"].main}),g.Z=r},68944:function(I,g,e){"use strict";e.d(g,{Z:function(){return O}});var t=e(32735),r=e(53038),n=e(67879),E=e(49189),p=e.n(E),m=e(24989),P=e(8997),L=()=>{const{params:{authResponse:h}}=(0,r.$B)("/auth/login/:authResponse"),{formatMessage:b}=(0,n.Z)(),{push:v}=(0,r.k6)(),k=(0,t.useRef)(b);let y=(0,t.useCallback)(()=>{v(`/auth/oops?info=${encodeURIComponent(k.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[v]);const{get:U}=(0,m.kY)(),W=(0,t.useCallback)(async()=>{try{const Z=p().get("jwtToken");if(m.I8.clearAppStorage(),Z){m.I8.setToken(Z,!0);const se=(0,P.IF)("users/me"),{data:{data:ne}}=await U(se);m.I8.setUserInfo(ne,!0),p().remove("jwtToken"),v("/auth/login")}}catch{y()}},[U,v,y]);return(0,t.useEffect)(()=>{h==="error"&&y(),h==="success"&&W()},[h,W,y]),t.createElement(m.dO,null)},O=[{Component:()=>({default:L}),to:"/auth/login/:authResponse",exact:!0}]},98768:function(I,g,e){"use strict";var t=e(32735),r=e(60216),n=e.n(r),E=e(8471),p=e(9026),m=e(72850),P=e(87933),A=e(49372),L=e(67879),B=e(1115),O=e(58414),h=e(954),b=e(33205);const v=(0,E.ZP)(p.i)`
  flex: 1;
`,k=y=>{const U=strapi.features.isEnabled(strapi.features.SSO),{isLoading:W,data:Z}=(0,O.pl)({ssoEnabled:U}),{formatMessage:se}=(0,L.Z)();return!U||!W&&Z.length===0?t.createElement(h.ZP,null,t.createElement(B.Z,{...y})):t.createElement(h.ZP,null,t.createElement(B.Z,{...y},t.createElement(m.x,{paddingTop:7},t.createElement(P.k,{direction:"column",alignItems:"stretch",gap:7},t.createElement(P.k,null,t.createElement(v,null),t.createElement(m.x,{paddingLeft:3,paddingRight:3},t.createElement(A.Z,{variant:"sigma",textColor:"neutral600"},se({id:"Auth.login.sso.divider"}))),t.createElement(v,null)),t.createElement(b.Z,{providers:Z,displayAllProviders:!1})))))};k.defaultProps={onSubmit:y=>y.preventDefault(),requestError:null},k.propTypes={formErrors:n().object.isRequired,modifiedData:n().object.isRequired,onChange:n().func.isRequired,onSubmit:n().func,requestError:n().object},g.Z=k},33205:function(I,g,e){"use strict";var t=e(32735),r=e(60216),n=e.n(r),E=e(87933),p=e(63919),m=e(49372),P=e(15335),A=e(5803),L=e(8471),B=e(67879),O=e(14911);const h=L.ZP.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:y})=>y.colors.neutral150};
  border-radius: ${({theme:y})=>y.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:y})=>y.colors.neutral600};
`,b=(0,L.ZP)(E.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:y})=>y.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:y})=>y.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:y})=>y.spaces[2]};
  }
`,v=({provider:y})=>t.createElement(p.u,{label:y.displayName},t.createElement(h,{href:`${strapi.backendURL}/admin/connect/${y.uid}`},y.icon?t.createElement("img",{src:y.icon,"aria-hidden":!0,alt:"",height:"32px"}):t.createElement(m.Z,null,y.displayName)));v.propTypes={provider:n().shape({icon:n().string,displayName:n().string.isRequired,uid:n().string.isRequired}).isRequired};const k=({providers:y,displayAllProviders:U})=>{const{formatMessage:W}=(0,B.Z)();return U?t.createElement(P.r,{gap:4},y.map(Z=>t.createElement(A.P,{key:Z.uid,col:4},t.createElement(v,{provider:Z})))):y.length>2&&!U?t.createElement(P.r,{gap:4},y.slice(0,2).map(Z=>t.createElement(A.P,{key:Z.uid,col:4},t.createElement(v,{provider:Z}))),t.createElement(A.P,{col:4},t.createElement(p.u,{label:W({id:"global.see-more"})},t.createElement(h,{as:O.rU,to:"/auth/providers"},t.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):t.createElement(b,{justifyContent:"center"},y.map(Z=>t.createElement(v,{key:Z.uid,provider:Z})))};k.defaultProps={displayAllProviders:!0},k.propTypes={providers:n().arrayOf(n().object).isRequired,displayAllProviders:n().bool},g.Z=k},7277:function(I,g,e){"use strict";e.d(g,{Z:function(){return C}});var t=e(32735),r=e(53038),n=e(8471),E=e(24989),p=e(9026),m=e(27649),P=e(72850),A=e(49372),L=e(87933),B=e(23866),O=e(41415),h=e(67879),b=e(58414),v=e(954),k=e(33205),y=e(10190);const U=(0,n.ZP)(p.i)`
  flex: 1;
`;var Z=()=>{const D=strapi.features.isEnabled(strapi.features.SSO),{push:T}=(0,r.k6)(),{formatMessage:J}=(0,h.Z)(),{isLoading:ie,data:Q}=(0,b.pl)({ssoEnabled:D}),o=()=>{T("/auth/login")};return!D||!ie&&Q.length===0?t.createElement(r.l_,{to:"/auth/login"}):t.createElement(v.ZP,null,t.createElement(m.o,null,t.createElement(v.bU,null,t.createElement(v.sg,null,t.createElement(y.Z,null),t.createElement(P.x,{paddingTop:6,paddingBottom:1},t.createElement(A.Z,{as:"h1",variant:"alpha"},J({id:"Auth.form.welcome.title"}))),t.createElement(P.x,{paddingBottom:7},t.createElement(A.Z,{variant:"epsilon",textColor:"neutral600"},J({id:"Auth.login.sso.subtitle"})))),t.createElement(L.k,{direction:"column",alignItems:"stretch",gap:7},ie?t.createElement(L.k,{justifyContent:"center"},t.createElement(B.a,null,J({id:"Auth.login.sso.loading"}))):t.createElement(k.Z,{providers:Q}),t.createElement(L.k,null,t.createElement(U,null),t.createElement(P.x,{paddingLeft:3,paddingRight:3},t.createElement(A.Z,{variant:"sigma",textColor:"neutral600"},J({id:"or"}))),t.createElement(U,null)),t.createElement(O.z,{fullWidth:!0,size:"L",onClick:o},J({id:"Auth.form.button.login.strapi"})))),t.createElement(L.k,{justifyContent:"center"},t.createElement(P.x,{paddingTop:4},t.createElement(E.rU,{to:"/auth/forgot-password"},t.createElement(A.Z,{variant:"pi"},J({id:"Auth.link.forgot-password"})))))))},se=e(78834),C={...se.Z,providers:{Component:Z,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}},99568:function(I,g){"use strict";const e={settings:{auditLogs:{main:[{action:"admin::audit-logs.read",subject:null}],read:[{action:"admin::audit-logs.read",subject:null}]},"review-workflows":{main:[{action:"admin::review-workflows.read",subject:null}]},sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}};g.Z=e},48224:function(I,g,e){var t={"./ar.json":[38677,7958],"./ca.json":[90169,3516],"./cs.json":[43186,7519],"./de.json":[8343,6901],"./dk.json":[65668,7898],"./en.json":[10329,320],"./es.json":[45445,8367],"./eu.json":[69511,8360],"./fr.json":[8399,8006],"./gu.json":[10182,2248],"./he.json":[21757,830],"./hi.json":[43206,6332],"./hu.json":[72320,5894],"./id.json":[74221,8897],"./it.json":[90685,6817],"./ja.json":[21727,1312],"./ko.json":[30986,1377],"./ml.json":[11309,9903],"./ms.json":[75973,3025],"./nl.json":[80381,2671],"./no.json":[82446,562],"./pl.json":[84008,7846],"./pt-BR.json":[91417,9647],"./pt.json":[41830,3340],"./ru.json":[57098,123],"./sa.json":[92900,9726],"./sk.json":[52204,606],"./sv.json":[43211,9303],"./th.json":[49582,749],"./tr.json":[99154,395],"./uk.json":[2987,7403],"./vi.json":[50576,3278],"./zh-Hans.json":[35964,2553],"./zh.json":[91999,1011]};function r(n){if(!e.o(t,n))return Promise.resolve().then(function(){var m=new Error("Cannot find module '"+n+"'");throw m.code="MODULE_NOT_FOUND",m});var E=t[n],p=E[0];return e.e(E[1]).then(function(){return e.t(p,19)})}r.keys=function(){return Object.keys(t)},r.id=48224,I.exports=r},47750:function(I,g,e){"use strict";I.exports=e.p+"70674f63fc3904c20de0.svg"}}]);
