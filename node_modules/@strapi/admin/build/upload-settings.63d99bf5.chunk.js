"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[695],{67963:function(A,h,t){t.r(h),t.d(h,{SettingsPage:function(){return U},default:function(){return G}});var e=t(32735),c=t(74758),i=t(67879),d=t(24989),f=t(66456),E=t(27649),O=t(82055),u=t(41415),m=t(17e3),y=t(96709),C=t(87933),b=t(72850),j=t(49372),x=t(15335),n=t(5803),l=t(9139),r=t(84306),s=t(89793),g=t.n(s),o=t(15503),L=a=>a,I=t(97889),R=t(3040),k=t.n(R);const Z={isLoading:!0,isSubmiting:!1,initialData:{responsiveDimensions:!0,sizeOptimization:!0,autoOrientation:!1,videoPreview:!1},modifiedData:{responsiveDimensions:!0,sizeOptimization:!0,autoOrientation:!1,videoPreview:!1}};var K=(a,D)=>(0,I.ZP)(a,p=>{switch(D.type){case"CANCEL_CHANGES":{p.modifiedData=a.initialData;break}case"GET_DATA_SUCCEEDED":{p.isLoading=!1,p.initialData=D.data,p.modifiedData=D.data;break}case"ON_CHANGE":{k()(p,["modifiedData",...D.keys.split(".")],D.value);break}case"ON_SUBMIT":{p.isSubmiting=!0;break}case"SUBMIT_SUCCEEDED":{p.initialData=a.modifiedData,p.isSubmiting=!1;break}case"ON_SUBMIT_ERROR":{p.isSubmiting=!1;break}default:return a}}),H=t(93826);const U=()=>{const{formatMessage:a}=(0,i.Z)(),{lockApp:D,unlockApp:p}=(0,d.o1)(),F=(0,d.lm)(),{get:$,put:V}=(0,d.kY)();(0,d.go)();const[{initialData:X,isLoading:Y,isSubmiting:J,modifiedData:B},P]=(0,e.useReducer)(K,Z,L),N=(0,e.useRef)(!0);(0,e.useEffect)(()=>{const M=r.default.CancelToken.source(),w=async()=>{try{const{data:{data:z}}=await $((0,o.IF)("settings"),{cancelToken:M.token});P({type:"GET_DATA_SUCCEEDED",data:z})}catch(z){console.error(z)}};return N.current&&w(),()=>{M.cancel("Operation canceled by the user."),N.current=!1}},[]);const W=g()(X,B),Q=async v=>{if(v.preventDefault(),!W){D(),P({type:"ON_SUBMIT"});try{await V((0,o.IF)("settings"),B),P({type:"SUBMIT_SUCCEEDED"}),F({type:"success",message:{id:"notification.form.success.fields"}})}catch(M){console.error(M),P({type:"ON_SUBMIT_ERROR"})}p()}},S=({target:{name:v,value:M}})=>{P({type:"ON_CHANGE",keys:v,value:M})};return e.createElement(E.o,{tabIndex:-1},e.createElement(c.q,{title:a({id:(0,o.OB)("page.title"),defaultMessage:"Settings - Media Libray"})}),e.createElement("form",{onSubmit:Q},e.createElement(O.T,{title:a({id:(0,o.OB)("settings.header.label"),defaultMessage:"Media Library"}),primaryAction:e.createElement(u.z,{disabled:W,"data-testid":"save-button",loading:J,type:"submit",startIcon:e.createElement(f.Z,null),size:"S"},a({id:"global.save",defaultMessage:"Save"})),subtitle:a({id:(0,o.OB)("settings.sub-header.label"),defaultMessage:"Configure the settings for the Media Library"})}),e.createElement(m.D,null,Y?e.createElement(d.dO,null):e.createElement(y.A,null,e.createElement(C.k,{direction:"column",alignItems:"stretch",gap:12},e.createElement(b.x,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},e.createElement(C.k,{direction:"column",alignItems:"stretch",gap:4},e.createElement(C.k,null,e.createElement(j.Z,{variant:"delta",as:"h2"},a({id:(0,o.OB)("settings.blockTitle"),defaultMessage:"Asset management"}))),e.createElement(x.r,{gap:6},e.createElement(n.P,{col:6,s:12},e.createElement(l.s,{"aria-label":"responsiveDimensions","data-testid":"responsiveDimensions",checked:B.responsiveDimensions,hint:a({id:(0,o.OB)("settings.form.responsiveDimensions.description"),defaultMessage:"Enabling this option will generate multiple formats (small, medium and large) of the uploaded asset."}),label:a({id:(0,o.OB)("settings.form.responsiveDimensions.label"),defaultMessage:"Responsive friendly upload"}),name:"responsiveDimensions",offLabel:a({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:a({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:v=>{S({target:{name:"responsiveDimensions",value:v.target.checked}})}})),e.createElement(n.P,{col:6,s:12},e.createElement(l.s,{"aria-label":"sizeOptimization","data-testid":"sizeOptimization",checked:B.sizeOptimization,hint:a({id:(0,o.OB)("settings.form.sizeOptimization.description"),defaultMessage:"Enabling this option will reduce the image size and slightly reduce its quality."}),label:a({id:(0,o.OB)("settings.form.sizeOptimization.label"),defaultMessage:"Size optimization"}),name:"sizeOptimization",offLabel:a({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:a({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:v=>{S({target:{name:"sizeOptimization",value:v.target.checked}})}})),e.createElement(n.P,{col:6,s:12},e.createElement(l.s,{"aria-label":"autoOrientation","data-testid":"autoOrientation",checked:B.autoOrientation,hint:a({id:(0,o.OB)("settings.form.autoOrientation.description"),defaultMessage:"Enabling this option will automatically rotate the image according to EXIF orientation tag."}),label:a({id:(0,o.OB)("settings.form.autoOrientation.label"),defaultMessage:"Auto orientation"}),name:"autoOrientation",offLabel:a({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:a({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:v=>{S({target:{name:"autoOrientation",value:v.target.checked}})}}))))))))))};var G=()=>e.createElement(d.O4,{permissions:H.Z.settings},e.createElement(U,null))},17e3:function(A,h,t){t.d(h,{D:function(){return f}});var e=t(74512),c=t(32735),i=t(60216),d=t(72850);const f=({children:E})=>(0,e.jsx)(d.x,{paddingLeft:10,paddingRight:10,children:E});f.propTypes={children:i.node.isRequired}},82055:function(A,h,t){t.d(h,{T:function(){return b}});var e=t(74512),c=t(32735),i=t(60216),d=t(8471);const f=n=>{const l=(0,c.useRef)(null),[r,s]=(0,c.useState)(!0),g=([o])=>{s(o.isIntersecting)};return(0,c.useEffect)(()=>{const o=l.current,T=new IntersectionObserver(g,n);return o&&T.observe(l.current),()=>{o&&T.disconnect()}},[l,n]),[l,r]};var E=t(63060);const O=(n,l)=>{const r=(0,E.W)(l);(0,c.useLayoutEffect)(()=>{const s=new ResizeObserver(r);return Array.isArray(n)?n.forEach(g=>{g.current&&s.observe(g.current)}):n.current&&s.observe(n.current),()=>{s.disconnect()}},[n,r])};var u=t(72850),m=t(87933),y=t(49372);const C=()=>{const n=(0,c.useRef)(null),[l,r]=(0,c.useState)(null),[s,g]=f({root:null,rootMargin:"0px",threshold:0});return O(s,()=>{s.current&&r(s.current.getBoundingClientRect())}),(0,c.useEffect)(()=>{n.current&&r(n.current.getBoundingClientRect())},[n]),{containerRef:s,isVisible:g,baseHeaderLayoutRef:n,headerSize:l}},b=n=>{const{containerRef:l,isVisible:r,baseHeaderLayoutRef:s,headerSize:g}=C();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{height:g?.height},ref:l,children:r&&(0,e.jsx)(x,{ref:s,...n})}),!r&&(0,e.jsx)(x,{...n,sticky:!0,width:g?.width})]})};b.displayName="HeaderLayout";const j=(0,d.ZP)(u.x)`
  width: ${n=>n.width}px;
  z-index: ${({theme:n})=>n.zIndices[1]};
`,x=c.forwardRef(({navigationAction:n,primaryAction:l,secondaryAction:r,subtitle:s,title:g,sticky:o,width:T,...L},I)=>{const R=typeof s=="string";return o?(0,e.jsx)(j,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:T,"data-strapi-header-sticky":!0,children:(0,e.jsxs)(m.k,{justifyContent:"space-between",children:[(0,e.jsxs)(m.k,{children:[n&&(0,e.jsx)(u.x,{paddingRight:3,children:n}),(0,e.jsxs)(u.x,{children:[(0,e.jsx)(y.Z,{variant:"beta",as:"h1",...L,children:g}),R?(0,e.jsx)(y.Z,{variant:"pi",textColor:"neutral600",children:s}):s]}),r?(0,e.jsx)(u.x,{paddingLeft:4,children:r}):null]}),(0,e.jsx)(m.k,{children:l?(0,e.jsx)(u.x,{paddingLeft:2,children:l}):void 0})]})}):(0,e.jsxs)(u.x,{ref:I,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:n?6:8,background:"neutral100","data-strapi-header":!0,children:[n?(0,e.jsx)(u.x,{paddingBottom:2,children:n}):null,(0,e.jsxs)(m.k,{justifyContent:"space-between",children:[(0,e.jsxs)(m.k,{minWidth:0,children:[(0,e.jsx)(y.Z,{as:"h1",variant:"alpha",...L,children:g}),r?(0,e.jsx)(u.x,{paddingLeft:4,children:r}):null]}),l]}),R?(0,e.jsx)(y.Z,{variant:"epsilon",textColor:"neutral600",as:"p",children:s}):s]})});x.displayName="BaseHeaderLayout",x.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},x.propTypes={navigationAction:i.node,primaryAction:i.node,secondaryAction:i.node,sticky:i.bool,subtitle:i.oneOfType([i.string,i.node]),title:i.string.isRequired,width:i.number},b.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},b.propTypes={navigationAction:i.node,primaryAction:i.node,secondaryAction:i.node,subtitle:i.oneOfType([i.string,i.node]),title:i.string.isRequired}},96709:function(A,h,t){t.d(h,{A:function(){return u}});var e=t(74512),c=t(32735),i=t(60216),d=t(8471),f=t(72850);const E=(0,d.ZP)(f.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:m})=>m?"auto 1fr":"1fr"};
`,O=(0,d.ZP)(f.x)`
  overflow-x: hidden;
`,u=({sideNav:m,children:y})=>(0,e.jsxs)(E,{hasSideNav:!!m,children:[m,(0,e.jsx)(O,{paddingBottom:10,children:y})]});u.defaultProps={sideNav:void 0},u.propTypes={children:i.node.isRequired,sideNav:i.node}},27649:function(A,h,t){t.d(h,{o:function(){return f}});var e=t(74512),c=t(8471),i=t(72850);const d=(0,c.ZP)(i.x)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,f=({labelledBy:E="main-content-title",...O})=>(0,e.jsx)(d,{"aria-labelledby":E,as:"main",id:"main-content",tabIndex:-1,...O})}}]);
